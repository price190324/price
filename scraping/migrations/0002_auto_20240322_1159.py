# Generated by Django 4.2.2 on 2024-03-22 06:59

from pickle import FALSE, TRUE
from django.contrib.auth.models import User
from django.contrib.auth.models import Group

from django.db import migrations
# Подключаем модуль для работы с датой/веременем
from datetime import datetime, timedelta
# Подключаем модкль генерации случайных чисел
import random

# Добавить Новости
def insert_news(apps, param):
    News = apps.get_model("scraping", "News")
    news = News()
    news.daten = param[0]
    news.title = param[1]
    news.details = param[2]
    news.photo = param[3]
    news.save()
    return 

# Начальные данные 
def new_data(apps, schema_editor):
    try:
        # Суперпользователь id=1
        user = User.objects.create_superuser(username='root',
        email='price190324',
        first_name='Дастан', 
        last_name='Рыскулбеков',
        password='SsNn5678+-@')
        print("Суперпользователь создан")
    
        # Группа менеджеров
        managers = Group.objects.get_or_create(name = 'Managers')
        managers = Group.objects.get(name='Managers')
        print("Группа менеджеров создана")
    
        # Пользователь с ролью менеджера id=2
        user = User.objects.create_user(username='manager', password='Ss0066+-', email='manager@mail.ru', first_name='Алишер', last_name='Даулетов')
        managers.user_set.add(user)
        print("Менеджер добавлен в группу менеджеров")

        # Простые пользователи (заявители) id3-13
        user = User.objects.create_user(username='user1', password='Uu0066+-', email='user1@mail.ru', first_name='Ерлан', last_name='Сақан', last_login=datetime.now())
        user = User.objects.create_user(username='user2', password='Uu0066+-', email='user2@mail.ru', first_name='Тимурбек', last_name='Ибрагимов', last_login=datetime.now())
        user = User.objects.create_user(username='user3', password='Uu0066+-', email='user3@mail.ru', first_name='Гаухар', last_name='Кунтаева', last_login=datetime.now())
        user = User.objects.create_user(username='user4', password='Uu0066+-', email='user4@mail.ru', first_name='Айдана', last_name='Бурабекова', last_login=datetime.now())
        user = User.objects.create_user(username='user5', password='Uu0066+-', email='user5@mail.ru', first_name='Адиль', last_name='Сабиев', last_login=datetime.now())
        user = User.objects.create_user(username='user6', password='Uu0066+-', email='user6@mail.ru', first_name='Мадияр ', last_name='Салимов', last_login=datetime.now())
        user = User.objects.create_user(username='user7', password='Uu0066+-', email='user7@mail.ru', first_name='Дана', last_name='Мәулхан', last_login=datetime.now())
        user = User.objects.create_user(username='user8', password='Uu0066+-', email='user8@mail.ru', first_name='Алина', last_name='Увалиева', last_login=datetime.now())
        user = User.objects.create_user(username='user9', password='Uu0066+-', email='user9@mail.ru', first_name='Екатерина', last_name='Рудич', last_login=datetime.now())
        user = User.objects.create_user(username='user10', password='Uu0066+-', email='user10@mail.ru', first_name='Антон', last_name='Корнеенков', last_login=datetime.now())
        print("Созданы простые пользователи")
        
        # Добавить Новости

        parameters = [datetime.now() - timedelta(days=7) + timedelta(minutes=random.randint(1, 120)), "Жилье дешевеет по всему миру. Похоже на начало кризиса 2008 года?", """По данным Банка международных расчетов (МБР), жилая недвижимость по всему миру начала дешеветь в третьем квартале 2022 года. Аналогичный по продолжительности период снижения фиксировался 15 лет назад - с конца 2008 года по четвертый квартал 2009 года включительно.
Жилье дешевеет в основном в Европе
Лидером по снижению стоимости в третьем квартале минувшего года стал европейский регион: сильнее всего квадратные метры подешевели в:
Люксембурге - на 17 процентов;
Германии - на 15 процентов;
Финляндии и Словакии - на 12 процентов;
Чехии - на 11 процентов.
А в Турции дорожает
В третьем квартале недвижимость активно дорожала в Турции: стоимость квадратных метров прибавила сразу 21 процент. Также положительную динамику аналитики зафиксировали в ОАЭ (17 процентов), Греции (9,4 процента), на Филиппинах (7 процентов) и в Мексике (5,5 процента).
Похоже на начало глобального кризиса? Эксперты не рискуют утверждать
Мировая статистика, по словам аналитика Максима Осадчего, отражает в первую очередь кризис на китайском рынке жилья, проявляющийся в форме кризиса перепроизводства. Огромные объемы построенного жилья не распроданы, цены на жилье падают, несмотря на попытки государства поддержать их с помощью, например, льготной ипотеки.""", "images/news1.jpg" ]
        insert_news(apps, parameters)
       
        parameters = [datetime.now() - timedelta(days=6) + timedelta(minutes=random.randint(1, 120)), "Сотовая связь рекордно подорожала в Казахстане", """В феврале, согласно данным Бюро национальной статистики, услуги сотовой связи подорожали сразу на 6,2 процента за месяц. Как сообщают аналитики Первого кредитного бюро, это максимальный месячный показатель за весь доступный в статистике период с января 2011 года.
В годовом разрезе рост цен составил 12,4 процента, что также является максимальным значением. При этом средняя стоимость сотовой связи увеличивалась почти беспрерывно.""", "images/news2.jpg" ]
        insert_news(apps, parameters)
       
        parameters = [datetime.now() - timedelta(days=5) + timedelta(minutes=random.randint(1, 120)), "Впервые за 8 лет аренда жилья подешевела в Алматы", """Согласно данным Бюро национальной статистики, цены на рынке жилья в Алматы в феврале по сравнению с январем снизились сразу по всем трем категориям. Причем впервые с мая 2016 года.
Снимать квартиру стало дешевле на 2,9 процента, стоимость покупки квартир в первичном фонде упала на 1,4 процента, квартиры во вторичном фонде дешевеют второй месяц подряд, на 0,4 процента.
Цены нового жилья по Казахстану в целом выросли, но незначительно, +0,4 процента. Небольшое снижение, кроме Алматы, отмечается в Караганде (-0,3 процента) и Павлодаре (-0,1 процента).
Перепродажа квартир по стране выросла на 1,7 процента, особенно заметно дорожает вторичка в Астане - +5,3 процента.
Аренда по стране дешевеет на 1,2 процента, наиболее ощутимо - в Семее - сразу на 4,4 процента.""", "images/news3.jpg" ]
        insert_news(apps, parameters)
       
        parameters = [datetime.now() - timedelta(days=4) + timedelta(minutes=random.randint(1, 120)), "YouTube Premium стал доступен в Казахстане", """Казахстанцы получили доступ к подписке YouTube Premium, передает Tengrinews.kz.
Обладатели premium-аккаунта YouTube смогут смотреть видео без рекламы и в фоновом режиме, сохранять видео, чтобы смотреть их без доступа к Интернету, и получат еще ряд функций.
На выбор казахстанцам предоставили несколько вариантов подписки YouTube Premium: индивидуальная, семейная и студенческая.
Отметим, что сервис выдал корреспонденту Tengrinews.kz разные цены на YouTube Premium. При просмотре страницы с iPhone стоимость индивидуальной подписки составляла 3500 тенге в месяц, при заходе с компьютера цена указана в размере 2700 тенге в месяц.""", "images/news4.jpg" ]
        insert_news(apps, parameters)
       
        parameters = [datetime.now() - timedelta(days=3) + timedelta(minutes=random.randint(1, 120)), "В России готовятся к запредельным ценам на бензин: стоит ли казахстанцам беспокоиться", """В Министерстве энергетики заявили, что ситуация с бензином в Казахстане стабильная, передает Tengrinews.kz.
Что происходит в России?
Цена бензина АИ-95 на Санкт-Петербургской международной товарно-сырьевой бирже достигла максимума за полгода - 60 тысяч рублей за тонну.
Это максимум с конца сентября 2023 года, когда цены на бензин в России начали снижаться после введения временного эмбарго на экспорт топлива, пишет РБК.
Источник издания отмечает потенциальную серьезность ситуации для рынка на фоне произошедших атак дронов на российские НПЗ. Подорожали и другие виды топлива, в частности бензин АИ-92 и дизельное горючее, но цены, как утверждают аналитики, не достигли рекордных уровней.
Розничные цены на бензин оставались стабильными всю зиму, но последние данные Росстата относятся к 11 марта, поэтому судить о влиянии оптовой стоимости на розницу пока рано. Эксперты отмечают, что атаки дронов в большей степени ударят именно по бензиновому сектору.
"Дизтоплива мы производим примерно в два раза больше, чем потребляем на внутреннем рынке, половина дизеля экспортируется, поэтому при снижении объемов производства мы просто те объемы, которые раньше экспортировали, перенаправим на внутренний рынок. А вот с бензином все сложнее, его мы производим примерно столько же, сколько потребляем. В обычное время около 90 процентов произведенного за год бензина реализуется на внутреннем рынке, только 10 процентов экспортируется", - цитирует слова эксперта Фонда национальной энергетической безопасности Игоря Юшкова издание "74".
Минэнерго России накануне вечером объявило, что оценивает ситуацию с обеспечением регионов топливом как стабильную и не видит рисков роста розничных цен на топливо. "В розничном сегменте цены стабильны и не увеличиваются с начала года", - заявили в ведомстве.
А что в Казахстане?
В Министерстве энергетики Казахстана, комментируя ситуацию с бензином, заявили, что в стране имеются значительные запасы нефтепродуктов.
"Выработка, отгрузка и восполнение запасов ГСМ производятся бесперебойно. Совокупные запасы дизельного топлива на НПЗ, нефтебазах и путях составляют 657 тысяч тонн, что обеспечивает потребность страны до двух месяцев, совокупные запасы бензина марки Аи-92 составляют 454 тысячи тонн, что обеспечивает потребность страны на 1,5 месяца", - сообщили в министерстве.""", "images/news5.jpg" ]
        insert_news(apps, parameters)
       
        parameters = [datetime.now() - timedelta(days=2) + timedelta(minutes=random.randint(1, 120)), "Мировые цены на нефть растут", """Мировые цены на нефть растут. Стоимость одного барреля марки Brent впервые с начала ноября прошлого года превысила 85 долларов, передает корреспондент Tengrinews.kz.
Стоимость майских фьючерсов на нефть Brent на лондонской бирже ICE повысилась на 1,47 процента, до 85,27 доллара за баррель, свидетельствуют данные торгов по состоянию на 09:09 по времени Астаны.
Цена на фьючерсы на нефть WTI с поставкой в апреле росла на 1,76 процента и достигла 81,13 доллара за баррель.
Отметим, ранее был опубликован доклад Международного энергетического агентства (МЭА). Прогноз мирового спроса на нефть повысился на 190 тысяч баррелей в сутки в текущем году. Также МЭА понизило на 900 тысяч баррелей в сутки прогноз по мировой добыче нефти на текущий год: теперь ожидает ее роста всего на 800 тысяч баррелей в сутки, до 102,9 миллиона баррелей в сутки. Ожидается дефицит в среднем в 300 тысяч баррелей в сутки до конца года при продлении действующих добровольных сокращений ОПЕК+.""", "images/news6.jpg" ]
        insert_news(apps, parameters)
       
        parameters = [datetime.now() - timedelta(days=1) + timedelta(minutes=random.randint(1, 120)), "Цена на золото приблизилась к историческому рекорду", """Цены на золото подскочили до максимума за три месяца, превысив 2130 долларов за тройскую унцию, передает корреспондент Tengrinews.kz. В предыдущий раз выше 2100 долларов золото торговалось в декабре 2023 года.
Стоимость апрельских контрактов драгоценного металла в ходе торгов на нью-йоркской бирже COMEX во вторник на пике достигала 2135,8 доллара за тройскую унцию. К 17:30 по времени Астаны цены растут на 0,24 процента, до 2131,3 доллара за унцию.
В Казахстане, согласно данным Национального банка, стоимость золота выросла до 30 363,04 тенге за грамм. Отметим, что 4 марта один грамм золота стоил 29 731,30 тенге.
По данным аналитиков, стоимость золота в ближайшие 12-18 месяцев может достичь трех тысяч долларов за унцию. Среди причин роста цен они назвали дедолларизацию, "глубокую глобальную рецессию", которая способна подтолкнуть Федеральную резервную систему (ФРС) США к быстрому снижению ставок, а также стагфляцию.
Напомним, 4 декабря 2023 года цены на золото установили новый исторический рекорд. Тогда стоимость январского фьючерса на золото выросла на 2,89 процента - до 2140,7 доллара за унцию.""", "images/news7.jpg" ]
        insert_news(apps, parameters)
       
        print("Новости ok")

    except Exception as error:
        print(error)


class Migration(migrations.Migration):

    dependencies = [
        ('scraping', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(new_data),        
    ]

